{
    "title": "Synergizing LLM Agents and Knowledge Graph for",
    "abstract": "Thefastdevelopmentoflocation-basedsocialnetworks(LBSNs) Thedevelopmentoflocation-basedsocialnetworks(LBSNs)has hasledtosignificantchangesinsociety,resultinginpopularstudies significantlyadvancedsocioeconomicpredictionwithrichweb- ofusingLBSNdataforsocioeconomicprediction,e.g.,regionalpop- sourcedLBSNdatasuchasuser-generatedcontentonreviewplat- ulationandcommercialactivityestimation.Existingstudiesdesign forms.Socioeconomicindicatorslikeregionalpopulation,userac- variousgraphstomodelheterogeneousLBSNdata,andfurther tivity,andrating,provideamorecomprehensivedescriptionof applygraphrepresentationlearningmethodsforsocioeconomic LBSN in turn, which can be leveraged by various web applica- prediction.However,theseapproachesheavilyrelyonheuristic tionstoofferenhancedservicessuchaslocationrecommendation, ideasandexpertisetoextracttask-relevantknowledgefromdiverse webpagedescription,andpersonalassistants.Asaresult,socioe- data,whichmaynotbeoptimalforspecifictasks.Additionally, conomicpredictioninthecontextofLBSNhasbecomeincreas- theytendtooverlooktheinherentrelationshipsbetweendifferent ingly important, leading to a growing body of research in this indicators,limitingthepredictionaccuracy.Motivatedbythere- field[3,7,9,17,23,24,30,32â€“35,37] markableabilitiesoflargelanguagemodels(LLMs)incommonsense Traditionallypeoplecollectsocioeconomicindicatorsfromsur- reasoning,embedding,andmulti-agentcollaboration,inthiswork, veys,whicharecostlyandtime-consuming.Recently,data-driven wesynergizeLLMagentsandknowledgegraphforsocioeconomic methodshavebecomepopular,whichusemachinelearningmodels prediction.Wefirstconstructalocation-basedknowledgegraph topredictthesocioeconomicindicatorsbasedonvariousLBSNdata. (LBKG)tointegratemulti-sourcedLBSNdata.Thenweleverage TheLBSNdatacomesfromvarioussourcesandisheterogeneous. thereasoningpowerofLLMagenttoidentifyrelevantmeta-paths Existingstudieshavewidelyusedgraphstructuretomodelthecom- intheLBKGforeachtypeofsocioeconomicpredictiontask,and plexrelationshipswithinLBSNdata,andpredictthesocioeconomic designasemantic-guidedattentionmoduleforknowledgefusion indicatorsthroughgraphrepresentationlearningmethods.They withmeta-paths.Moreover,weintroduceacross-taskcommuni- constructeithermulti-viewgraphs[9,30,35]orknowledgegraphs cationmechanismtofurtherenhanceperformancebyenabling (KGs)[16,37]tomodeldifferentfactorsinLBSNdatalikemobility, knowledgesharingacrosstasksatbothLLMagentandKGlevels. spatialproximity,andfunctionality.However,Theseapproaches Ontheonehand,theLLMagentsfordifferenttaskscollaborateto highlyrelyonheuristicideasandexpertisetoextractknowledge generatemorediverseandcomprehensivemeta-paths.Ontheother relatedtothetasksfromLBSNdata,suchastheconstructionofsub- hand,theembeddingsfromdifferenttasksareadaptivelymerged graphsordefinitionofmeta-structures,whichmaybesub-optimal forbettersocioeconomicprediction.Experimentsontwodatasets fordifferentindicatorpredictiontasks.Moreover,theintrinsiccor- demonstratetheeffectivenessofthesynergisticdesignbetween relationsandpotentialforknowledgesharingacrossdifferentso- LLMandKG,providinginsightsforinformationsharingacross cioeconomicpredictiontasksareoftenoverlooked,limitingthe socioeconomicpredictiontasks. overallpredictionaccuracy. Therecentlyemergedlargelanguagemodels(LLMs)providea promisingsolutiontotheselimitations.LLMshavedemonstrated",
    "body": "Synergizing LLM Agents and Knowledge Graph for\nSocioeconomic Prediction in LBSN\nZhilunZhou JingyangFan YuLiu\nDepartmentofElectronic DepartmentofElectronic UniversityofOxford\nEngineering,BNRist,Tsinghua Engineering,BNRist,Tsinghua Oxford,UnitedKingdom\nUniversity University liuyu2419@126.com\nBeijing,China Beijing,China\nzzl22@mails.tsinghua.edu.cn siemprestr@gmail.com\nFengliXuâˆ— DepengJin YongLi\nDepartmentofElectronic DepartmentofElectronic DepartmentofElectronic\nEngineering,BNRist,Tsinghua Engineering,BNRist,Tsinghua Engineering,BNRist,Tsinghua\nUniversity University University\nBeijing,China Beijing,China Beijing,China\nfenglixu@tsinghua.edu.cn jindp@tsinghua.edu.cn liyong07@tsinghua.edu.cn\nAbstract 1 Introduction\nThefastdevelopmentoflocation-basedsocialnetworks(LBSNs) Thedevelopmentoflocation-basedsocialnetworks(LBSNs)has\nhasledtosignificantchangesinsociety,resultinginpopularstudies significantlyadvancedsocioeconomicpredictionwithrichweb-\nofusingLBSNdataforsocioeconomicprediction,e.g.,regionalpop- sourcedLBSNdatasuchasuser-generatedcontentonreviewplat-\nulationandcommercialactivityestimation.Existingstudiesdesign forms.Socioeconomicindicatorslikeregionalpopulation,userac-\nvariousgraphstomodelheterogeneousLBSNdata,andfurther tivity,andrating,provideamorecomprehensivedescriptionof\napplygraphrepresentationlearningmethodsforsocioeconomic LBSN in turn, which can be leveraged by various web applica-\nprediction.However,theseapproachesheavilyrelyonheuristic tionstoofferenhancedservicessuchaslocationrecommendation,\nideasandexpertisetoextracttask-relevantknowledgefromdiverse webpagedescription,andpersonalassistants.Asaresult,socioe-\ndata,whichmaynotbeoptimalforspecifictasks.Additionally, conomicpredictioninthecontextofLBSNhasbecomeincreas-\ntheytendtooverlooktheinherentrelationshipsbetweendifferent ingly important, leading to a growing body of research in this\nindicators,limitingthepredictionaccuracy.Motivatedbythere- field[3,7,9,17,23,24,30,32â€“35,37]\nmarkableabilitiesoflargelanguagemodels(LLMs)incommonsense Traditionallypeoplecollectsocioeconomicindicatorsfromsur-\nreasoning,embedding,andmulti-agentcollaboration,inthiswork, veys,whicharecostlyandtime-consuming.Recently,data-driven\nwesynergizeLLMagentsandknowledgegraphforsocioeconomic methodshavebecomepopular,whichusemachinelearningmodels\nprediction.Wefirstconstructalocation-basedknowledgegraph topredictthesocioeconomicindicatorsbasedonvariousLBSNdata.\n(LBKG)tointegratemulti-sourcedLBSNdata.Thenweleverage TheLBSNdatacomesfromvarioussourcesandisheterogeneous.\nthereasoningpowerofLLMagenttoidentifyrelevantmeta-paths Existingstudieshavewidelyusedgraphstructuretomodelthecom-\nintheLBKGforeachtypeofsocioeconomicpredictiontask,and plexrelationshipswithinLBSNdata,andpredictthesocioeconomic\ndesignasemantic-guidedattentionmoduleforknowledgefusion indicatorsthroughgraphrepresentationlearningmethods.They\nwithmeta-paths.Moreover,weintroduceacross-taskcommuni- constructeithermulti-viewgraphs[9,30,35]orknowledgegraphs\ncationmechanismtofurtherenhanceperformancebyenabling (KGs)[16,37]tomodeldifferentfactorsinLBSNdatalikemobility,\nknowledgesharingacrosstasksatbothLLMagentandKGlevels. spatialproximity,andfunctionality.However,Theseapproaches\nOntheonehand,theLLMagentsfordifferenttaskscollaborateto highlyrelyonheuristicideasandexpertisetoextractknowledge\ngeneratemorediverseandcomprehensivemeta-paths.Ontheother relatedtothetasksfromLBSNdata,suchastheconstructionofsub-\nhand,theembeddingsfromdifferenttasksareadaptivelymerged graphsordefinitionofmeta-structures,whichmaybesub-optimal\nforbettersocioeconomicprediction.Experimentsontwodatasets fordifferentindicatorpredictiontasks.Moreover,theintrinsiccor-\ndemonstratetheeffectivenessofthesynergisticdesignbetween relationsandpotentialforknowledgesharingacrossdifferentso-\nLLMandKG,providinginsightsforinformationsharingacross cioeconomicpredictiontasksareoftenoverlooked,limitingthe\nsocioeconomicpredictiontasks. overallpredictionaccuracy.\nTherecentlyemergedlargelanguagemodels(LLMs)providea\npromisingsolutiontotheselimitations.LLMshavedemonstrated\nKeywords\nseveralremarkableabilitieswhichcouldhelpsocioeconomicpre-\nLargelanguagemodels,knowledgegraph,location-basedsocial\ndiction[28]:(1)Latentsemanticembedding.Atthefoundational\nnetwork,socioeconomicprediction\nlevel,LLMsareabletogeneratetextembeddingswithrichseman-\nticinformation,whichmakesitpossibletointegrateLLMwith\ndeeplearningmodelstoimprovetheperformancebyleveraging\nâˆ—CorrespondingAuthor. theinherentsemanticinformationintheLBSNdata.(2)Explicit\n4202\nvoN\n91\n]LC.sc[\n2v82000.1142:viXra\nZhilunZhou,JingyangFan,YuLiu,FengliXu,DepengJin,andYongLi\ncommonsense reasoning. Moreover, LLMs possess vast com- indicatorsforurbanregionsbasedonvariousLBSNdata,i.e.,learna\nmonsenseknowledge,basedonwhichtheycanperformcomplex mappingfunctionğ‘“ :Lâ†’V ,whereV istherangeofindicator\nI I\nreasoning[36].Thiscapabilityfacilitatestheautomaticextraction ğ¼ âˆˆI.\noftask-relevantknowledgefromLBSNdata.(3)Multi-agentcol-\nlaboration.Atthehighestlevel,LLMagentscancommunicate 2.2 Location-basedKnowledgeGraph\nwithotheragentsthroughnatural language,andcollaborateto KGisamulti-relationalgraphstructure,definedasG={E,R,F},\nsolvecomplextaskswhichisdifficultforasingleagent[6,11,31]. whereE istheentityset,R istherelationset,andF isthefact\nSuchabilityenablesLLMtotransferknowledgeacrossdifferent set.EachfactinF isdenotedasatriplet (â„,ğ‘Ÿ,ğ‘¡),representinga\nsocioeconomicpredictiontasksviasemantic-richnaturallanguage, directionaledgefromtheheadentityâ„ âˆˆ E totailentityğ‘¡ âˆˆ E\nandcollaborativelyimprovetheperformance. withrelationtypeğ‘Ÿ âˆˆR.Duetoitsremarkableabilitytorepresent\nInspiredbythis,weproposealearningframeworkthatSynergize heterogeneousdataandintegratediverseknowledge,KGhasbeen\nLLMAgentandKnowledgeGraphlearningmodel(SLAK)forso- widelyusedinthestudyofLBSN[13,15,25,37].Inspiredbythis,we\ncioeconomicprediction.Wefirstconstructalocation-basedknowl- constructanLBKGtointegratemulti-sourcedLBSNdata[14,37].\nedgegraph(LBKG)tocomprehensivelyintegrateLBSNdata.To The LBKG contains various elements in LBSN such as regions,\nextracttask-relevantknowledge,weconstructanLLMagenttoauto- POIs,POIcategories,brands,businessareas,andvariousrelations\nmaticallydiscovermeta-pathsintheLBKGthathelptheprediction betweenthem.ThedetailsofLBKGarepresentedinAppendixA.\nforspecificindicators,andextractacorrespondingmeta-path-based PreviousstudieshaveshownthepromisingabilityofLBKGin\nsub-KG.Moreover,weleverageKGrepresentationlearningmodel socioeconomicprediction[37].However,therearestilltwochal-\ntodistilknowledgefromeachmeta-path-basedsub-KG,andde- lengestobeaddressed.First,theLBKGconsistsofmanydifferent\nsignasemantic-enhancedknowledgefusionmoduletoadaptively entitiesandrelations,containingknowledgeinvariousdomains,\nfusetheknowledgebasedonsemanticembeddingsofmeta-paths someofwhichmaynotberelatedtothespecificsocioeconomic\nobtainedfromLLM.Inaddition,weproposeacross-taskcommu- indicatorormayevenharmthepredictionperformance,which\nnicationmechanismtoenableknowledgesharingacrossdifferent impliesthedifficultyofextractingrelevantknowledgemanually.\nsocioeconomicpredictiontasksatboththeLLMagentandKGlevel. Second,differentsocioeconomicindicatorsareinherentlycorre-\nSpecifically,theLLMagentscollaboratetoextractbettermeta-paths, lated,withmanyinfluencedbysimilarknowledgeintheLBKG.For\nandwealsoadaptivelymergetheKGembeddingsfromdifferent example,thepresenceofbusinessareasneararegionmaysimul-\ntaskswiththeknowledgefusionmodule. taneouslyenhanceitscommercialvitalityandattractpopulation\nOurcontributioncanbesummarizedasfollows: growth.Itremainsunclearhowtoleveragethesharedknowledge\nâ€¢ WeproposeaframeworktosynergizeLLMagentsandKG amongdifferentindicatorstoimprovethepredictionperformance.\nforsocioeconomicprediction.Weleveragethereasoning\ncapabilityofLLMagenttofindtask-relevantmeta-paths 3 Methods\nfromLBKG,andfurtherusethesemanticinformationof 3.1 FrameworkOverview\nthemeta-pathstoguidetheknowledgefusion.\nToaddresstheaforementionedchallenges,weproposeaframework\nâ€¢ Wedesignacross-taskcommunicationmechanismtoen-\nsynergizingthecapabilityofLLMagentandKG,asshowninFig-\nableknowledgesharingacrossdifferentsocioeconomicpre-\nure1.Toovercomethefirstchallenge,weconstructanLLMagent\ndictiontasksatboththeLLMagentlevelthroughmulti-\ntoextracttask-relevantknowledgebypromptingittofindmeta-\nagent collaboration and the KG level through semantic\npathsrelatedtothesocioeconomicpredictiontaskfromtheLBKG,\nattention,whichfurtherimprovestheaccuracy.\nandextractacorrespondingsub-KGbasedoneachmeta-path.The\nâ€¢ Extensiveexperimentsontwocity-scaledatasetsshowthat\nmeta-path-basedsub-KGsarefedintoaKGlearningmodeltodistil\nourmodelsurpassesexistingmethodsby2.9-74.2%interms\nknowledgefromeachsub-KG,andwefurtherusethesemanticem-\nofğ‘…2 oneightindicatorpredictiontasks,demonstrating\nbeddingsofmeta-pathstoguidetheknowledgefusion.Theoutput\ntheeffectivenessofoursynergisticmodelbetweenLLM\nregionembeddingsareusedforsocioeconomicpredictionthrough\nandKG.Severalin-depthanalysesfurthershowtheadvan-\nafinalMLPoutputlayer.Asforthesecondchallenge,wedesigna\ntageofourmodeldesign,providinginsightsforweb-based\ncross-taskcommunicationmechanism,asshowninFigure2.Dif-\nsocioeconomicpredictioninLBSN.\nferentindicatorpredictiontasksshareknowledgeatboththeLLM\nagentlevelandKGlevel.Specifically,theLLMagentsrecommend\n2 Preliminaries potentialmeta-pathsforothertasksfromdiverseperspectives,and\n2.1 ProblemStatement updatetheirownmeta-pathsselectionbasedonknowledgefrom\nothertasks.Moreover,weleverageembeddingLLMtoobtaina\nDefinition2.1(UrbanRegion). Wedefineurbanregionsasnon-\nsemanticembeddingforeachtask,whichisusedtoadaptivelyfuse\noverlappingirregularareasinacity,whicharepartitionedbymain\ntheregionembeddingsfromdifferenttasks.\nroadnetworks,suchasablock,denotedasL={ğ¿1,ğ¿2,...,ğ¿ ğ‘ğ¿}.\nDefinition2.2(SocioeconomicPredictionProblem). Givena 3.2 Single-taskLearning\nsetofsocioeconomicindicatorsI = {ğ¼1,...,ğ¼ ğ‘ğ¼} inLBSNsuch 3.2.1 Meta-pathExtraction. TheLBKGintegratesvariousLBSN\naspopulation,commercialactivity,useractivityandrating,the datacomprehensivelyandincorporatesknowledgefromvariousdo-\nsocioeconomicpredictiontaskaimstopredictthevalueofthese mains,suchasthespatialknowledgeofgeographicalrelationships\nSynergizingLLMAgentsandKnowledgeGraphforSocioeconomicPredictioninLBSN\nPlease find some meta-paths that may help the\nPopulation prediction task.\nNatural language encoding of meta-paths\n1:\nğ‘†ğ‘†ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ğ‘’ ğ¶ğ¶ğ‘œğ‘œğ‘œğ‘œğ‘œğ‘œğ‘œğ‘œğ‘œğ‘œğ‘œğ‘œ 1: Region THATis served by BusinessAreaTHATcontains POI\nâ€¦2: ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ»ğ»ğ‘œğ‘œğ‘ğ‘ğ‘†ğ‘†ğ‘œğ‘œğ‘œğ‘œğ‘’ğ‘’ğ‘’ğ‘’ğ‘ğ‘ğµğµğ‘ğ‘ğµğµğµğµğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğµğµğµğµğ»ğ»ğµğµğ‘œğ‘œğµğµğ‘ğ‘ğ‘…ğ‘…ğ‘ğ‘ğµğµğ‘ğ‘ğ‘œğ‘œğ‘ğ‘ğ‘’ğ‘’ğ‘’ğ‘’ğ‘†ğ‘†ğ‘œğ‘œğ‘œğ‘œğ‘’ğ‘’ğ‘’ğ‘’ğ‘ƒğ‘ƒğ‘ğ‘ğ‘ƒğ‘ƒğ‘œğ‘œğ‘ƒğ‘ƒ 2 â€¦: Region THAThas store of Brand THAThas placed store at Region\nLLM Agent ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘… ğµğµğµğµğµğµğ‘…ğ‘…ğµğµ ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…ğ‘…\nEmbedding\nLLM\nRegion Brand\nğ‘¬ğ‘¬ğ‘€ğ‘€ğ‘ğ‘\nğ‘¹ğ‘¹ ğ‘©ğ‘©\nBusinessArea POI\nSub-KG ğ‘©ğ‘©ğ‘©ğ‘© ğ‘·ğ‘· ğ‘¹ğ‘¹ğŸğŸ\nEncoder\nğ‘©ğ‘©ğ‘©ğ‘©ğŸğŸ ğ‘©ğ‘©ğ‘©ğ‘©ğŸğŸ\nğ‘¹ğ‘¹ğŸğŸ ğ‘¹ğ‘¹ğŸğŸ KG ğ‘·ğ‘·ğŸğŸ ğ‘·ğ‘·ğŸğŸ MLP\nEncoder\nğ‘©ğ‘©ğ‘©ğ‘©ğŸğŸ ğ‘©ğ‘©ğ‘©ğ‘©ğŸğŸ ğ‘©ğ‘©1\nSub-KG Socioeconomic\nğ‘·ğ‘·ğŸğŸ ğ‘·ğ‘·ğŸğŸ ğ‘¹ğ‘¹ğŸğŸ ğ‘¹ğ‘¹ğŸğŸ Encoder Indicator\nLBKG â€¦ğ‘©ğ‘©1 ğ‘¬ğ‘¬ğ‘’ğ‘’ğ‘’ğ‘’ğ‘Ÿğ‘Ÿ\nMeta-path-\nbased Sub-KGs\nFigure1:TheoverallframeworkofourproposedmodelSLAK.\nbetweenregions,thefunctionalknowledgeregardingPOIsandPOI canbettercapturethestructuralinformationinKG.Specifically,let\ncategories,andmobilityknowledgeaboutpopulationflow[37].It ğ’†ğ‘–(ğ‘™) denotetheembeddingofentityğ‘’\nğ‘–\nattheğ‘™-thR-GCNlayer,the\niscrucialtoidentifyrelevantinformationthatcanaidinpredicting informationaggregationfunctionis:\nspecificsocioeconomicindicators.Inspiredbytheabilityofmeta-\npathsinKGtocapturecertainsemanticcontexts,weaimtofindthe ğ’†ğ‘–(ğ‘™+1) =ğœ(âˆ‘ï¸ âˆ‘ï¸ ğ‘Š ğ‘Ÿ(ğ‘™) ğ’†ğ‘—(ğ‘™) +ğ‘Š 0(ğ‘™) ğ’†ğ‘–(ğ‘™) ), (1)\nmostrelevantmeta-pathsthatcontributetothepredictiontasks. ğ‘ŸâˆˆRğ‘—âˆˆNğ‘Ÿ\nğ‘–\nWefirstprovidethedefinitionofmeta-pathasfollows[21].\nwhereğ’†ğ‘–(ğ‘™+1) istheembeddingatthe (ğ‘™ +1)-thlayer,N ğ‘–ğ‘Ÿ isthe\nDefinition3.1(Meta-path). Ameta-pathinKGcanberepre- neighboringentitiesofğ‘’ withrespecttorelationğ‘Ÿ,andğ‘Š(ğ‘™),ğ‘Š(ğ‘™)\nsentedintheformofğ¸1 âˆ’âˆ’ğ‘… â†’1 ğ¸2 âˆ’âˆ’ğ‘… â†’2 ...âˆ’âˆ’ğ‘… âˆ’ğ‘™âˆ’âˆ’â†’1 ğ¸ ğ‘™,denotingapath arelearnableweightmağ‘– trices. ğ‘Ÿ 0\nfromentityğ¸1,ğ¸2,...toğ¸\nğ‘™\nthroughrelationsğ‘…1,...,ğ‘… ğ‘™âˆ’1. Thenwedistildomainknowledgefromthemeta-paths.Given\nameta-pathschemegeneratedbyLLMagent,wefirstextractall\nMeta-pathsproviderichsemanticcontextsintheLBKG.Forex-\nmeta-pathswithsuchschemefromtheLBKGtoconstructasub-\nğ»ğ‘ğ‘  ğ¶ğ‘œğ‘šğ‘ğ‘’ğ‘¡ğ‘–ğ‘¡ğ‘–ğ‘£ğ‘’ ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nample,themeta-pathğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ KG,asshowninFigure1.Thesub-KGpreservesallthecontextual\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›capturesthecompetitiverelationshipsbetweenPOIsintwo knowledgedefinedbythemeta-pathschemeinLBKG.Inpractice,\nregions,whichmayaffectthecommercialactivityoftheseregions. weusethegraphdatabaseNeo4j1tostoretheLBKGandqueryit\nHowever,giventhelargenumberofentitiesandrelationsin togetthemeta-pathswithCypherlanguage.Consequently,each\nLBKG,itisnottrivialtofindhelpfulmeta-paths.Herewedraw sub-KGisfedintoasub-KGencoder,whichisalsoR-GCNmodel,\ninspirationfromtheemergentcommonsensereasoningabilityof toobtainregionembeddingsfromeachmeta-path.\nLLMs.IthasbeendemonstratedthatLLMcanidentifyimportant\nmeta-structuresinheterogeneousinformationnetworksthrough 3.2.3 Semantic-guided Knowledge Fusion. Different meta-paths\nhavedifferentimportanceinsocioeconomicindicatorprediction\nreasoning[2].Therefore,weconstructanLLMagenttoautomati-\ntasks.Therefore,weproposeasemantic-guidedknowledgefusion\ncallyfindrelevantmeta-pathsfromLBKG.Toenabletheagentto\nmoduletodynamicallyfusetheknowledgeofdifferentmeta-paths.\nunderstandtheLBKG,weinputtheschemaofLBKGdescribedin\nWefirstobtainthenaturallanguageencodingofmeta-pathsusing\nnaturallanguage.Thenweprompttheagenttogenerateseveral\nmethodsin[2],whichprovidesadescriptionofthemeta-patheasy\npotentialmeta-pathschemesforthesocioeconomicpredictiontask.\nforLLMtounderstand.Specifically,weusetheconjunctionword\nThedetailedpromptsareshowninAppendixB.\nTHAT toconstructanestedclauseforeachmeta-path,asshownin\n3.2.2 KGLearningModel. Followingpreviouswork[37],weem- Figure1.Theconstructedsentencesalignwithcommonly-usedEng-\nployahierarchicalKGlearningmodeltolearnregionembeddings lishgrammar,andthusaresuitableforlanguagemodels.Moreover,\nfromLBKGbasedontheextractedmeta-paths.First,weuseaKG weuseanembeddingLLMtogeneratesemanticembeddingsfor\nencodertoextractglobalknowledgefromtheLBKG.Hereweadopt thesesentences.WechoosetheGTE-basedmodel[12],whichisone\nagraphconvolutionmodelcalledR-GCN[20]astheKGencoder. ofthetopmodelsonthetextembeddingleaderboardMTEB[18],\nDifferentfromvanillaGCN,R-GCNaggregatesinformationfrom\nneighboringnodesthrougheachtypeofrelationseparately,which 1https://neo4j.com/\nKnowledge\nFusion\nSemantic-guided\nZhilunZhou,JingyangFan,YuLiu,FengliXu,DepengJin,andYongLi\ntoobtainağ‘‘\nğ¿ğ¿ğ‘€\n=768dimensionalsemanticembeddingforeach Algorithm1Trainingalgorithmofourmodel\nmeta-path. 1: Round1:Single-tasktraining\na br ee dL dte h it neğ‘ƒ gs s1 e, m t. o. a g. n, etğ‘ƒ ticğ‘ theğ‘ƒ emd qbe uen edo rd yt ie n vgt eh s ce to ofm rm ğ‘¸e eta t =a- -p ğ‘¬pa ğ‘€at th ğ‘ƒhs ğ‘¾s, .a ğ‘„Wn ed âˆˆfiğ‘¬ Rrğ‘€ s ğ‘tğ‘ƒ ğ‘ƒp Ã—râˆˆ ğ‘‘o â„jR e ,c wğ‘ tğ‘ƒ hthÃ— eeğ‘‘ reğ¿ eğ¿ ğ‘‘mğ‘€ â„- 2 3: : agenfo tr ğ´GI ğ‘–n ed ni ec ra at to er mğ¼ ğ‘– eâˆˆ ta{ -pğ¼1 a, t. h. s., Pğ¼ ğ‘ ğ‘–ğ¼ =} {d ğ‘ƒo 1ğ‘–,...,ğ‘ƒ ğ‘ğ‘– ğ‘ƒ}throughLLM\nisoutputembeddingsizeofthesub-KGencoder.Thenwecalculate\n4: Extractcorrespondingsub-KGsfromLBKG\ntheattentionweightsas:\n5: Generatesemanticembeddingsofmeta-pathsğ¸ ğ‘€ğ‘ƒ\nğ‘¸ğ‘–âŠ¤ğ’†ğ‘ƒ ğ‘—ğ‘– 6: Train the KG learning model to predict ğ¼ ğ‘– for many\nğ›¼ ğ‘– =softmax( âˆšï¸ğ‘‘\nâ„\n),ğ‘– âˆˆ{1,2,...,ğ‘ ğ‘ƒ}, (2)\n7:\nepochs Sw ai vth ete ha erl ry e- gs it oo npp ei mng\nbeddingsğ¸ ğ‘Ÿğ¼ğ‘– ğ‘’ğ‘”atthebestepoch\nwhereğ’†ğ‘ƒ ğ‘—ğ‘– âˆˆRğ‘‘â„ istheembeddingofregionğ¿ ğ‘— atthemeta-path- 8: Round2:Cross-taskcommunication\nbasedsub-KGofğ‘ƒ ğ‘–.Then,theoutputembeddingofregionğ¿ ğ‘— is 9: âŠ²Meta-pathsupdate\ncal Fcu inla at le lyd ,a ths: eaboveembğ’† eğ‘— dd= inâˆ‘ï¸ ğ‘–ğ‘\n=\ngğ‘ƒ\n1\nsğ›¼ ağ‘– rğ’† eğ‘ƒ ğ‘— ağ‘–. ddedtotheoutputofth(3 e) 1 1 10 1 2: :\n:\n{ğ‘ƒ 1ğ‘– ,ğ‘¢fo ğ‘ğ‘‘r ğ‘A Ağ‘¡In\nğ‘’\ngg , eed . nni .c tt .a , ğ´t ğ´ ğ‘ƒo ğ‘–ğ‘ğ‘– ğ‘–r rğ‘ƒğ¼ euğ‘–\n,\ncğ‘¢pâˆˆ oğ‘d mğ‘‘{ a ğ‘ğ¼ mt ğ‘¡1 e ğ‘’, es }. n. i d. t, ssğ¼ ağ‘ oğ¼ mw} end tao m -pe at ta h-p toat eh as chP oğ‘¢ğ‘– ğ‘ thğ‘‘ eğ‘ rğ‘¡ğ‘’ tas=\nk\nKGencoderthrougharesidualconnection,andfedintoanMLP ğ‘ƒğ‘—â†ğ‘–,ğ‘— â‰ ğ‘–\nlayerforindicatorprediction.Wetrainourmodelinasupervised\n13: âŠ²Modeltraining\nmannerandemployMSElosstooptimizeit.\n14: forIndicatorğ¼ ğ‘– âˆˆ{ğ¼1,...,ğ¼ ğ‘ğ¼}do\n3.3 Cross-taskCommunication 15: Obtain the final meta-paths Pğ‘›ğ‘– ğ‘’ğ‘¤ = P ğ‘¢ğ‘– ğ‘ğ‘‘ğ‘ğ‘¡ğ‘’ âˆª\n{ğ‘ƒğ‘–â†ğ‘—|ğ‘— â‰ ğ‘–}\n16: Trainthemodeltopredictğ¼ ğ‘–withmeta-pathsPğ‘›ğ‘– ğ‘’ğ‘¤and\nM Me et ta a- -p pa at th h r se ec lfo -um pm dae tn edation T Te hex t pu oa pl u d lae ts ioc nri p prt eio dn ic to iof n t a tas sk ks Soc Ii no de ic co an too rmic embeddings{ğ¸ ğ‘Ÿğ¼ğ‘— ğ‘’ğ‘”|ğ‘— â‰ ğ‘–}\naims to predict the population MLP\nof urban regions based on\nurban knowledge graph.\nTask 2 â€¦\nğ‘¬ğ‘¬ğ‘“ğ‘“ğ‘“ğ‘“ğ‘“ğ‘“ğ‘“ğ‘“ğ‘“ğ‘“\nEmbedding ğ‘¬ğ‘¬ğ‘¡ğ‘¡ğ‘¡ğ‘¡ğ‘“ğ‘“ğ‘¡ğ‘¡ Semantic-guided providethedetailedthinkingprocess.Forexample,theagentre-\nLLM Knowledge Fusion\nsponsibleforthepopulationpredictiontaskmaythinkabouthow\nTask 1 Task 3 thepopulationaffectsthecommercialactivity,andrecommenda\nRegion embedding relevantmeta-pathtothecommercialactivitypredictiontask.In\nTask 4 from other tasks ğ‘¬ğ‘¬ğ‘Ÿğ‘Ÿğ‘“ğ‘“ğ‘Ÿğ‘Ÿ addition,weaskeachagenttoupdatethepreviousmeta-pathsof\n(a) (b) itsowntasksbasedonthosefromothertasks.Wecombinethe\nself-updatedmeta-pathsaswellasmeta-pathsrecommendedby\nFigure2:Cross-taskcommunicationmechanism.(a)Agent- otheragentsasthefinalmeta-pathsforeachtask.\nlevel communication through multi-agent collaboration. Moreover,wetransfertheregionembeddingsacrosstasksto\n(b)KGembeddinglevelcommunicationthroughsemantic- furtherenhancetheperformance,asshowninFigure2(b).Weonly\nguidedknowledgefusion. modify the final layer of the KG learning model in Figure 1 by\ncombiningthecurrenttaskembeddingğ¸ withembeddingspre-\nğ‘Ÿğ‘’ğ‘”\nSincedifferentsocioeconomicindicatorsareinherentlycorre- viouslylearnedfromothertasks.Hereweadoptthesamesemantic-\nlated,wefurtherdesignacross-taskcommunicationmechanism guidedknowledgefusionmoduleasmentionedinSection3.2.3.We\ntoenableknowledgesharingacrossdifferenttasksregardingboth firstconstructadescriptionofeachtaskinnaturallanguage,and\nthemeta-pathsfindingandtheembeddinglearning,asshownin leveragetheembeddingLLMtoobtainthesemanticembeddingof\nFigure2.Wefirstleveragethemulti-agentcollaborationabilityof eachtask,denotedasğ¸ ğ‘¡ğ‘ğ‘ ğ‘˜.Thenğ¸ ğ‘¡ğ‘ğ‘ ğ‘˜ isusedasthequeryofthe\nLLMstooptimizethemeta-pathsextractedfromLBKGforeach attentionmoduletoadaptivelyfusetheembeddingsusingEqua-\ntask.Thenwedynamicallyfusetheembeddingsfromdifferenttasks tion2and3.Theoutputofthesemantic-guidedattentionmodule\nforindicatorprediction. isaddedtoğ‘¬ğ‘Ÿğ‘’ğ‘”ofthecurrenttaskthrougharesidualconnection,\nPreviousstudiesregardingmulti-agentcollaborationhaveshown andtheobtainedregionembeddingsğ‘¬ğ‘“ğ‘¢ğ‘ ğ‘’ğ‘‘ arefinallyusedfor\nthatwhenassigneddifferentroles,multipleLLMagentscanthink socioeconomicprediction.\nfromdifferentperspectivesandcommunicatewitheachothertopro- TheoveralltrainingalgorithmofourmodelispresentedinAl-\nvideamorecomprehensiveandaccurateanswertoquestions[1,10]. gorithm1.Notethatitconsistsoftworoundsoftraining.Inthe\nInspiredbythis,weprovidetheagentswiththepreviouslyfound firstround,wetrainthemodelforeachtaskseparately,andsave\nmeta-pathsofalltasks,andaskthemtorecommendanewmeta- thefinalregionembeddingsğ¸ ğ‘Ÿğ¼ğ‘– ğ‘’ğ‘”.Inthesecondround,theLLM\npathtoeachoftheotheragentsfromtheirowntaskâ€™sperspective. agentscommunicatetogeneratenewmeta-pathsPğ‘›ğ‘–\nğ‘’ğ‘¤\nforeach\nWeleveragethechain-of-thoughtpromptingtechniques[29],and task,andwetrainthemodelforeachtaskbasedonPğ‘›ğ‘– ğ‘’ğ‘¤andregion\nasktheagenttoconsidertherelationshipsbetweentwotasksand embeddingsfromthepreviousround.\nSynergizingLLMAgentsandKnowledgeGraphforSocioeconomicPredictioninLBSN\n4 Experiments 4.2.2 EvaluationMetrics. Werandomlysplittheregionsintotrain,\nvalidation, and test set by 6:2:2, and adopt the commonly used\nMeanAbsoluteError(MAE),RootMeanSquareError(RMSE),and\nTable1:Thebasicinformationoftworeal-worlddatasets. coefficientofdetermination(ğ‘…2)asevaluationmetrics.\nCity Beijing Shanghai\nBasic #Regions 523 2032\nInfo. population,commercialactivity,\nIndicators\nuseractivity,rating\n#Entities 23,754 41,338\nLBKG\n#Relations 35 35\nStatistics #Facts 330,652 589,850 4.3 OverallPerformance\nWepresenttheoverallperformanceofourmodelandbaselinesin\nTable2and3,fromwhichwehavethefollowingobservations.\n4.1 Datasets First,ourmodeloutperformsbaselinemethodsonalleightindi-\nWeconductexperimentsontworeal-worlddatasets,Beijingand catorpredictiontasksacrosstwodatasets,withimprovementsin\nShanghai,toevaluateourmodel. termsofğ‘…2rangingfrom2.9%to159.8%,demonstratingtheeffec-\nBeijingdataset.Itcontains523regionsinBeijingwithintheFifth tivenessandrobustnessofourmodel.Specifically,ourSLAK-single\nRingRoad,whicharepartitionedbymainroadnetworks.Wecol- modelisbetterthanbaselinesonsixoftheeightindicators,indi-\nlectthepopulationdatafromWorldPop2.Thecommercialactivity catingthatleveragingLLMagentstoextractrelevantmeta-paths\nindicatorsarereflectedbythenumberoffirms[4].Wealsocol- onasingletaskispromisingbutnotrobustenough.Moreover,\nlected restaurant data from Dianping, one of the most popular thecross-taskcommunicationmechanismfurtherimprovesour\nreviewplatformsinChina.Weusethetotalnumberofreviewsof performanceby1.9%to23.8%intermsofğ‘…2,achievingthebest\nallrestaurantstoreflecttheuseractivityofaregion.Therating results.\nindicatoriscalculatedastheaverageuserratingofallrestaurants Second,HKGLgenerallyachievesthebestperformanceamong\ninaregion. baselinesbecauseitusesLBKGtoeffectivelyintegrateLBSNdata,\nShanghaidataset.Itcontains2032regionsinShanghai,whichare anddefinesseveralsub-KGstocapturediverseknowledgeinLBKG.\nalsodividedbymainroadnetworks.TheindicatorsinShanghai However,itstillperformsworsethanourmodel,whichsuggests\nandtheirdatasourcesarethesameasBeijingdataset.Thebasic thatmanuallyextractingrelevantknowledgefromLBSNdatamay\nstatisticsofthesedatasetsareshowninTable1. leadtosub-optimalresults.Onthecontrary,weleveragetherea-\nsoningandmulti-agentcollaborationabilityofLLMagentstoauto-\n4.2 ExperimentSettings maticallyfindandoptimizemeta-paths,thusshowingconsiderable\n4.2.1 Baselines. Wecompareourmodelwithstate-of-the-artgraph performancegain.\nembeddingmethodsaswellassocioeconomicpredictionmethods. Third,itisnaturaltoquestionwhetherothermethodscanalso\nbenefitfromtransferringknowledgeacrosstasks.Therefore,we\nGraphembeddingmethods.\ncomparewithavariantofthebestbaselinemodelbyconcatenat-\nâ€¢ GAT[22]:Itisagraphconvolutionnetworkthataggregates\ningregionembeddingslearnedfromotherindicators(HKGLvs.\ninformationfromneighboringnodeswithlearnableweights.\nHKGL-trans).Wenoticethattheperformancebecomesworseon\nSocioeconomicpredictionmethods. allindicatorswithembeddingtransfer.Thisisbecauseembeddings\nâ€¢ HUGAT[9]:ItconstructsaheterogeneousgraphtomodelLBSN fromdifferenttasksaretrainedwithsupervisedsignalsfromother\ndata,andusesaheterogeneousgraphattentionnetworktolearn indicators,whichmaynotbesuitableforthecurrenttask.This\nlocationembeddingsforsocioeconomicindicatorprediction. suggeststhatitisnon-trivialtotransferknowledgeacrossdiffer-\nâ€¢ MGFN[30]:Itconstructsmobilitygraphsandleveragesmulti- enttasksthroughembedding.However,ourmodelshowsbetter\nlevelattentionmechanismtolearnregionembeddings. performancewithcross-taskcommunicationmechanism,which\nâ€¢ HKGL[37]:ItusesahierarchicalKGlearningmodeltolearn furtherdemonstratestheeffectivenessofsemantic-guidedknowl-\nglobalanddomainknowledgefromLBKG.Wealsoevaluatea edge fusion as well as knowledge sharing through multi-agent\nvariantofthismodelnamedHKGL-transbytransferringregion collaboration.\nembeddingsacrosstasks.Specifically,weconcatenatethetask- Tointuitivelyunderstandthesocioeconomicpredictionresult,\nspecificembeddingswithembeddingslearnedfromothertasks wevisualizetheindicatorpredictionerrorontestregionsofour\natthefinallayer. modelandthebestbaselinemodelonuseractivitypredictiontask.\nAsshowninFigure3,ourmodelgenerallyshowssmallererrors\nFor our proposed SLAK model, we compare two versions of it.\ncomparedwithHKGL.Specifically,ourmodelshowsbetteraccuracy\nSLAK-singledenotesthemodeltrainingondifferenttaskssepa-\ninHaidianandWangjingareas,whichareknownfortheirhigh\nrately,i.e.,theround1inAlgorithm1.SLAK-commdenotesthe\ndensityoftechcompaniesaswellasvibrantuseractivitiesinLBSN.\nmodelwithcross-taskcommunication,i.e.,theround2inAlgo-\nInaddition,ourmodelalsoperformsbetterinFengxiandistrict\nrithm1.\ninsouthwesternShanghai.Suchresultsfurtherdemonstratethe\n2https://hub.worldpop.org/geodata/summary?id=24924 accuracyofourmodelinsocioeconomicindicatorpredictiontasks.\nZhilunZhou,JingyangFan,YuLiu,FengliXu,DepengJin,andYongLi\nTable2:PerformancecomparisonwithbaselinesonBeijingdataset.Bestresultarepresentedinbold,andthesecondbest\nresultsareunderlined.\nPopulation Commercial Useractivity Rating\n2 2 2 2\nModel MAE RMSE R MAE RMSE R MAE RMSE R MAE RMSE R\nGAT 0.676 0.916 0.305 1.293 1.712 0.270 2.164 3.125 0.115 0.706 1.056 0.058\nMGFN 0.667 0.904 0.324 3.235 6.155 0.200 5.552 8.657 0.179 0.772 1.002 0.152\nHUGAT 0.695 0.919 0.301 1.165 1.558 0.396 1.947 2.987 0.191 0.728 1.080 0.014\nHKGL 0.660 0.886 0.350 1.000 1.238 0.619 1.864 2.618 0.379 0.752 1.031 0.102\nHKGL-trans 0.790 1.007 0.162 1.066 1.379 0.527 1.827 2.726 0.326 0.736 1.058 0.055\nSLAG-single 0.660 0.895 0.337 0.982 1.227 0.626 1.690 2.516 0.426 0.666 0.964 0.214\nSLAG-comm 0.651 0.879 0.360 0.971 1.204 0.640 1.557 2.438 0.461 0.655 0.933 0.265\nTable3:PerformancecomparisonwithbaselinesonShanghaidataset.Bestresultarepresentedinbold,andthesecondbest\nresultsareunderlined.\nPopulation Commercial Useractivity Rating\n2 2 2 2\nModel MAE RMSE R MAE RMSE R MAE RMSE R MAE RMSE R\nGAT 0.667 0.844 0.446 1.390 1.777 0.068 2.368 2.950 0.236 0.917 1.209 0.086\nMGFN 0.747 0.954 0.293 2.355 4.613 0.085 6.136 9.353 0.160 0.896 1.185 0.122\nHUGAT 0.662 0.844 0.446 1.408 1.787 0.056 2.342 2.891 0.267 0.957 1.220 0.068\nHKGL 0.658 0.852 0.436 1.309 1.686 0.160 1.964 2.505 0.449 0.870 1.140 0.186\nHKGL-trans 0.698 0.936 0.319 1.381 1.752 0.094 2.055 2.598 0.408 0.891 1.167 0.191\nSLAG-single 0.620 0.849 0.440 1.323 1.678 0.168 1.864 2.336 0.521 0.864 1.137 0.191\nSLAG-comm 0.627 0.812 0.488 1.294 1.664 0.183 1.816 2.311 0.531 0.838 1.114 0.224\nError\nOurs HKGL 0.8\n0.7 Ours w/o self-update w/o rec. 0.6 Ours w/o self-update w/o rec.\n0.6 0.5\n0.5 0.4\n0.4 0.3\n0.3\n0.2\n0.2\n0.1 0.1\n0.0 Population CommercialUser activity Rating 0.0 Population CommercialUser activity Rating\nIndicator Indicator\n(a)Beijing (b)Shanghai\nBeijing Beijing\n0.8\n0.7 Ours w/o trans. w/o attn. 0.6 Ours w/o trans. w/o attn.\n0.6 0.5\n0.5 0.4\n0.4 0.3\n0.3\n0.2\n0.2\n0.1 0.1\n0.0 Population CommercialUser activity Rating 0.0 Population CommercialUser activity Rating\nIndicator Indicator\n(c)Beijing (d)Shanghai\nShanghai Shanghai\nFigure4:Performancecomparisonofmodelswithoutself-\nupdatemeta-paths(w/oself-update),recommendedmeta-\nFigure3:Visualizationofpredictionerrorofuseractivity\npaths (w/o rec.), embedding transferred from other tasks\n(measuredinlogscale).Weuseredsquarestomarkthere-\n(w/otrans.),andsemanticattention(w/oattn.).\ngionswherebaselineperformsworse.\n4.4 AblationStudy foreachtask,whileremovingrecommendationindicatesthatwe\nTodemonstratetheeffectivenessofourmodeldesign,wefurther onlyusetheself-updatemeta-paths.AsshowninFigure4(a-b),the\nconductablationstudies.Wefirstexaminetheinfluenceofmulti- performancebecomesworseonallindicatorsacrosstwodatasets,\nagentcollaborationbyremovingthemeta-pathself-updateormeta- with a significant drop over 5.5% in terms of ğ‘…2. Such a result\npathrecommendation.Forexample,removingself-updatemeans demonstratestheimportanceofmulti-agentcollaborationinknowl-\nthatweonlyusethemeta-pathsrecommendedbyotheragents edgesharingacrosstasks,wheredifferentagentsfindmeta-paths\n2R\n2R 2R\n2R\nSynergizingLLMAgentsandKnowledgeGraphforSocioeconomicPredictioninLBSN\nfromdiverseperspectives,enablingbetterandmorecomprehensive searchingalgorithmsisthatwefindmeta-pathsthroughreasoning\nknowledgeextraction. insteadofsearching.Leveragingthecapabilityofcommonsense\nMoreover,weevaluateourkeydesignsintheKGlearningmodel, reasoning,LLMcaneffectivelyfindmeta-pathsrelevanttotheindi-\ni.e.,theembeddingtransferacrosstasksaswellasthesemantic- catorpredictiontask.Moreover,LLMcanoptimizethemeta-paths\nguidedknowledgefusion.Fortheformer,weomittheembedding throughmulti-agentcollaborationbyenablingmultipleagentsto\nfusionmoduleinFigure2(b)andonlyuseembeddingsfromthe reason from diverse perspectives, thus leading to better results.\ncurrenttaskforprediction.Forthelatter,weuseatraditionalself- Inaddition,ourmodelreducesthetimecostbyover8Ã—,which\nattentionmoduletoreplaceoursemantic-guidedknowledgefusion isbecausewhenevaluatingeachcombinationofmeta-paths,the\nmoduleinourmodel.ItcanbeobservedinFigure4(c-d)thatthe searchingalgorithmsneedtotraintheKGlearningmodelonce,\nğ‘…2dropsonalmostallindicatorswithoutthesedesigns,showing whichmakesitsubstantiallytime-consumingwhensearchingfrom\nthatthesemanticinformationofmeta-pathsandtasksplaysan alargenumberofindividuals.Onthecontrary,ourmethodsonly\nimportantroleinfusingdiverseknowledgefromdifferentmeta- needtotraintheKGlearningmodelforafewtimes.Furthermore,\npathsanddifferenttasks.Overall,theresultsofablationstudies thetimecostofLLMcommunicationismuchsmallercompared\nvalidatethatsynergizingLLMagentsandKGarecrucialforbetter withtrainingthemodeloverandoveragain.\nsocioeconomicindicatorprediction.\n4.5 EfficiencyofMeta-pathOptimization 4.6 CaseStudyofDiscoveredMeta-paths\nWepresentthemeta-pathsfoundbyourmodel,randomsearch,\nTable4:Performanceandtimecostcomparisonwithmeta-\nandgeneticalgorithmsinTable5.Itcanbeobservedthatcom-\npathsearchingalgorithmsonuseractivitypredictiontask.\nparedwithSLAK-single,themeta-pathsdiscoveredinthesecond\nGAandRandomrepresentgeneticalgorithmandrandom\nroundthroughmulti-agentcollaborationaregenerallylongerand\nsearch,respectively.\nmorediverse.Thisisprobablybecausethesemeta-pathsaregen-\nBeijing Shanghai eratedbyLLMagentsbasedonthepreviouslyfoundones,which\nMethod MAE RMSE R2 Time MAE RMSE R2 Time\nRandom 1.621 2.485 0.440 32min 1.887 2.384 0.501 85min enablesagentstoconsidermorecomplexmeta-paths.Moreover,\nGA 1.688 2.532 0.419 37min 1.870 2.315 0.515 90min we find that the meta-paths recommended by other agents are\nOurs 1.557 2.438 0.461 4min 1.816 2.311 0.531 6min chosen from their own taskâ€™s perspective. For example, in Bei-\njingdataset,themeta-pathrecommendedbypopulationprediction\nHerewedemonstratetheadvantageofourmeta-pathsextraction ğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ ğ»ğ‘ğ‘  ğ»ğ‘ğ‘ ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦ğ‘‚ğ‘“\ntaskğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’\nmethodovertraditionalmeta-pathsearchingalgorithms.Wecom-\nğ¸ğ‘¥ğ‘–ğ‘ ğ‘¡ğ¼ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\npareourmodelwithtwometa-pathsearchingalgorithms,random ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦1 âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›reflectthepopulation\nsearchandgeneticalgorithms. ğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ğ‘‘ğµğ‘¦\nflowinfluence,theonefromcommercialpredictiontaskğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’\nInthegeneticalgorithm,wedefineameta-pathasagene,andthe\nğ¶ğ‘œğ‘›ğ‘¡ğ‘ğ‘–ğ‘› ğ»ğ‘ğ‘ ğµğ‘Ÿğ‘ğ‘›ğ‘‘ğ‘‚ğ‘“ ğ¸ğ‘¥ğ‘–ğ‘ ğ‘¡ğ¼ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nchromosomeofanindividualasasetof6meta-paths,whichhasthe ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’\nsamenumberasourmodel(3self-updateand3recommendedmeta- ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›considerthecommercialfactorsbetweenentitieslikeBusi-\npaths)forfaircomparison.Thefitnessiscalculatedastheprediction nessArea,POI,andBrand.Themeta-pathsfromratingprediction\nğ‘…2whenusingthesemeta-pathstotrainourmodel.Wegenerate\ntaskğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nâˆ’ğ» âˆ’âˆ’ğ‘ â†’ğ‘ \nğ‘ƒğ‘‚ğ¼\nâˆ’ğ¶ âˆ’âˆ’ğ‘œ âˆ’ğ‘š âˆ’âˆ’ğ‘ âˆ’ğ‘’ âˆ’ğ‘¡ğ‘– âˆ’ğ‘¡ âˆ’ğ‘– âˆ’ğ‘£ â†’ğ‘’\nğ‘ƒğ‘‚ğ¼\nâˆ’âˆ’ğ¿ âˆ’ğ‘œ âˆ’ğ‘ âˆ’ğ‘ âˆ’ğ‘¡ğ‘’ âˆ’ğ´ âˆ’â†’ğ‘¡\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘› cap-\n5individualsineachgeneration,andcalculatethefitnessofeach. turesthecompetitiverelationshipsbetweenPOIsinregions,which\nThen we select the best two individuals as parents to perform mayimpacttheratingaswellasuseractivity.Therefore,themeta-\ncrossoverandmutationtoproducethenextgeneration.Specifically, paths found through multi-agent collaboration capture diverse\ninthecrossoveroperation,onerandommeta-pathisexchanged knowledgemorecomprehensively.Incomparison,themeta-paths\nfromtheparents.Besides,eachmeta-pathhasaprobabilityof10% generatedbysearchingalgorithmsarelessmeaningfulanddiverse.\ntomutate,i.e.,bereplacedbyanewrandomlygeneratedmeta-path. Forexample,amongthemeta-pathsgeneratedbythegeneticalgo-\nAsfortherandomsearchalgorithm,wealsosetthenumberof rithmsinBeijing,fiveoutofsixmeta-pathsmodelthepopulation\nmeta-pathsas6foreachindividual,andrandomlygenerate6meta- flowbetweenregions,whichmayleadtoinformationredundancy.\npathswithlengthsrangingfrom2to4.Particularly,westartfrom\ntheentitytypeRegion,andsequentiallysamplearelationwithsuch\nentitytypeastheheadentity.Werepeatthesearchfor6iterations, 5 RelatedWork\nand5individualsaregeneratedineachiteration.\n5.1 GraphLearningforSocioeconomic\nThe performance and time cost of these algorithms and our\nmodelareshowninTable4.Itcanbeobservedthatourmodel Prediction\nachievesbetterperformanceandlowertimecost.Specifically,our Duetotheremarkableabilitytomodelnon-Euclideanandheteroge-\nSLAKmodeloutperformstraditionalalgorithmsby4.7%and3.1% neousdata,thegraphstructureandgraphlearningmodelhavelong\nintermsofğ‘…2onBeijingandShanghaidatasets,respectively.This beenutilizedforsocioeconomicpredictioninLBSN.Somestudies\nisprobablybecausethenumberofmeta-pathsinLBKGislarge leveragethemobilitydataandconstructmobilitygraphstomodel\nandthepotentialcombinationofmeta-pathsisevensignificantly thepopulationflowpatternsbetweenlocations[7,30,32].Moreover,\nlarger,makingitdifficulttofindbettermeta-pathsthroughsearch- somestudiesfurtherconsiderknowledgeinLBSNfromdifferent\ning.Incomparison,themaindifferencebetweenourmethodand perspectivesthroughmultiplegraphs.Forinstance,HDGE[24]\nZhilunZhou,JingyangFan,YuLiu,FengliXu,DepengJin,andYongLi\nTable 5: Best meta-paths found by our model, random search and genetic algorithms on user activity prediction task in\nBeijing.\"RecbyPop/Com/Rat\"indicatesthemeta-pathsrecommendedbyagentofpopulationprediction,commercialactivity\nprediction,andratingpredictiontasks.\nModel Meta-paths\nğ»ğ‘ğ‘ ğ‘†ğ‘¡ğ‘œğ‘Ÿğ‘’ğ‘‚ğ‘“ ğ¸ğ‘¥ğ‘–ğ‘ ğ‘¡ğ¼ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nSLAG-single ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’ğ‘† âˆ’ğ‘’ âˆ’ğ‘Ÿ âˆ’ğ‘£ âˆ’ğ‘’ âˆ’ğ‘‘ âˆ’ğµ âˆ’â†’ğ‘¦ ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’ğ¶ âˆ’âˆ’ğ‘œ âˆ’ğ‘› âˆ’ğ‘¡ âˆ’ğ‘ âˆ’ğ‘– â†’ğ‘› ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’ğ¿ âˆ’ğ‘œ âˆ’ğ‘ âˆ’ğ‘ âˆ’ğ‘¡ğ‘’ âˆ’ğ´ âˆ’â†’ğ‘¡ ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ»ğ‘ğ‘  ğ»ğ‘ğ‘ ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦ğ‘‚ğ‘“ ğ¸ğ‘¥ğ‘–ğ‘ ğ‘¡ğ¼ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦1âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ»ğ‘ğ‘  ğ¶ğ‘œğ‘šğ‘ğ‘’ğ‘¡ğ‘–ğ‘¡ğ‘–ğ‘£ğ‘’ ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nSelf-update ğ»ğ‘ğ‘ ğ‘†ğ‘¡ğ‘œğ‘Ÿğ‘’ğ‘‚ğ‘“ ğµğ‘’ğ‘™ğ‘œğ‘›ğ‘”ğ‘‡ğ‘œ ğ»ğ‘ğ‘ ğµğ‘Ÿğ‘ğ‘›ğ‘‘ğ‘‚ğ‘“ ğ¸ğ‘¥ğ‘–ğ‘ ğ‘¡ğ¼ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦1âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nSLAG-comm ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’ğ‘† âˆ’ğ‘’ âˆ’ğ‘Ÿ âˆ’ğ‘£ âˆ’ğ‘’ âˆ’ğ‘‘ âˆ’ğµ âˆ’â†’ğ‘¦ ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’ğ¶ âˆ’âˆ’ğ‘œ âˆ’ğ‘› âˆ’ğ‘¡ âˆ’ğ‘ âˆ’ğ‘– â†’ğ‘› ğ‘ƒğ‘‚ğ¼ âˆ’ğ¶ âˆ’âˆ’ğ‘œ âˆ’ğ‘š âˆ’âˆ’ğ‘ âˆ’ğ‘’ âˆ’ğ‘¡ğ‘– âˆ’ğ‘¡ âˆ’ğ‘– âˆ’ğ‘£ â†’ğ‘’ ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’ğ¿ âˆ’ğ‘œ âˆ’ğ‘ âˆ’ğ‘ âˆ’ğ‘¡ğ‘’ âˆ’ğ´ âˆ’â†’ğ‘¡ ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ ğ»ğ‘ğ‘  ğ»ğ‘ğ‘ ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦ğ‘‚ğ‘“ ğ¸ğ‘¥ğ‘–ğ‘ ğ‘¡ğ¼ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nRecbyPop. ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦1âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ğ‘‘ğµğ‘¦ ğ¶ğ‘œğ‘›ğ‘¡ğ‘ğ‘–ğ‘› ğ»ğ‘ğ‘ ğµğ‘Ÿğ‘ğ‘›ğ‘‘ğ‘‚ğ‘“ ğ¸ğ‘¥ğ‘–ğ‘ ğ‘¡ğ¼ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nRecbyCom ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ»ğ‘ğ‘  ğ¶ğ‘œğ‘šğ‘ğ‘’ğ‘¡ğ‘–ğ‘¡ğ‘–ğ‘£ğ‘’ ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nRecbyRat ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ ğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ğ‘‘ğµğ‘¦ ğ¶ğ‘œğ‘›ğ‘¡ğ‘ğ‘–ğ‘› ğ¶ğ‘œğ‘šğ‘ğ‘’ğ‘¡ğ‘–ğ‘¡ğ‘–ğ‘£ğ‘’\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼\nğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ ğ»ğ‘ğ‘  ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nGeneticAlgorithm ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’ğ‘ƒ âˆ’ğ‘œ âˆ’ğ‘ âˆ’ğ‘¢ âˆ’ğ‘™ âˆ’ğ‘ âˆ’ğ‘¡ âˆ’ğ‘–ğ‘œ âˆ’ğ‘› âˆ’ğ¼ âˆ’ğ‘› âˆ’ğ‘“ âˆ’ğ‘™ âˆ’ğ‘œ âˆ’ğ‘¤ âˆ’âˆ’ğ¹ âˆ’ğ‘Ÿ âˆ’ğ‘œ âˆ’ğ‘š â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’ğ‘ƒ âˆ’ğ‘œ âˆ’ğ‘ âˆ’ğ‘¢ âˆ’ğ‘™ âˆ’ğ‘ âˆ’ğ‘¡ âˆ’ğ‘–ğ‘œ âˆ’ğ‘› âˆ’ğ¼ âˆ’ğ‘› âˆ’ğ‘“ âˆ’ğ‘™ âˆ’ğ‘œ âˆ’ğ‘¤ âˆ’âˆ’ğ¹ âˆ’ğ‘Ÿ âˆ’ğ‘œ âˆ’ğ‘š â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’ğ‘ƒ âˆ’ğ‘œ âˆ’ğ‘ âˆ’ğ‘¢ âˆ’ğ‘™ âˆ’ğ‘ âˆ’ğ‘¡ âˆ’ğ‘–ğ‘œ âˆ’ğ‘› âˆ’âˆ’ğ¹ âˆ’ğ‘™ğ‘œ âˆ’âˆ’ğ‘¤ âˆ’ğ‘‡ âˆ’â†’ğ‘œ ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘†ğ‘–ğ‘šğ‘–ğ‘™ğ‘ğ‘Ÿğ¹ğ‘¢ğ‘›ğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘†ğ‘–ğ‘šğ‘–ğ‘™ğ‘ğ‘Ÿğ¹ğ‘¢ğ‘›ğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘ğ‘’ğ‘ğ‘Ÿğµğ‘¦\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ ğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ğ‘‘ğµğ‘¦ ğ¶ğ‘œğ‘›ğ‘¡ğ‘ğ‘–ğ‘› ğ¿ğ‘œğ‘ğ‘ğ‘¡ğ‘’ğ´ğ‘¡\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ ğ»ğ‘ğ‘ ğ‘†ğ‘¡ğ‘œğ‘Ÿğ‘’ğ‘‚ğ‘“ ğ‘…ğ‘’ğ‘™ğ‘ğ‘¡ğ‘’ğ‘‘ğµğ‘Ÿğ‘ğ‘›ğ‘‘\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘\nğ»ğ‘ğ‘  ğ»ğ‘ğ‘ ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦ğ‘‚ğ‘“ ğ¼ğ‘ ğ‘†ğ‘¢ğ‘ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦ğ‘‚ğ‘“\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦2âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦1\nğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ ğ»ğ‘ğ‘  ğ»ğ‘ğ‘ ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦ğ‘‚ğ‘“\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’â†’ğ‘ƒğ‘‚ğ¼ âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ¶ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦2\nRandomSearch ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’ğ‘† âˆ’ğ‘–ğ‘š âˆ’âˆ’ğ‘– âˆ’ğ‘™ğ‘ âˆ’ğ‘Ÿ âˆ’ğ¹ âˆ’âˆ’ğ‘¢ âˆ’ğ‘› âˆ’ğ‘ âˆ’ğ‘¡ âˆ’ğ‘–ğ‘œ âˆ’â†’ğ‘› ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’ğ» âˆ’ğ‘ âˆ’ğ‘  âˆ’ğ‘† âˆ’ğ‘¡ âˆ’ğ‘œ âˆ’ğ‘Ÿ âˆ’ğ‘’ âˆ’ğ‘‚ âˆ’â†’ğ‘“ ğµğ‘Ÿğ‘ğ‘›ğ‘‘âˆ’ğ» âˆ’âˆ’ğ‘ âˆ’ğ‘  âˆ’ğ‘ƒ âˆ’ğ‘™ âˆ’ğ‘ âˆ’ğ‘ âˆ’ğ‘’ âˆ’ğ‘‘ âˆ’ğ‘† âˆ’ğ‘¡ âˆ’ğ‘œ âˆ’ğ‘Ÿ âˆ’ğ‘’ âˆ’ğ´ â†’ğ‘¡ ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ğ‘‘ğµğ‘¦ ğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ ğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¼ğ‘›ğ‘“ğ‘™ğ‘œğ‘¤ğ¹ğ‘Ÿğ‘œğ‘š\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ‘†ğ‘–ğ‘šğ‘–ğ‘™ğ‘ğ‘Ÿğ¹ğ‘¢ğ‘›ğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ğ‘‘ğµğ‘¦ ğ‘†ğ‘’ğ‘Ÿğ‘£ğ‘’ ğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘¢ğ‘ ğ‘–ğ‘›ğ‘’ğ‘ ğ‘ ğ´ğ‘Ÿğ‘’ğ‘âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nğ»ğ‘ğ‘ ğ‘†ğ‘¡ğ‘œğ‘Ÿğ‘’ğ‘‚ğ‘“ ğ»ğ‘ğ‘ ğ‘ƒğ‘™ğ‘ğ‘ğ‘’ğ‘‘ğ‘†ğ‘¡ğ‘œğ‘Ÿğ‘’ğ´ğ‘¡ ğ‘ƒğ‘œğ‘ğ‘¢ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ¹ğ‘™ğ‘œğ‘¤ğ‘‡ğ‘œ\nğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğµğ‘Ÿğ‘ğ‘›ğ‘‘âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ğ‘…ğ‘’ğ‘”ğ‘–ğ‘œğ‘›\nconstructsamobilityflowgraphandspatialgraph,andsomestud- relevanttothequestions,StructGPT[8]enablesLLMtoperform\nies[17,35]proposemodelstodynamicallyfusemobility,POI,and reasoningbytraversingonKGs,andWangetal.[27]traverses\nspatialgraphsforindicatorprediction. aknowledgegraphacrossmultipledocumentstoenhancemulti-\nRecently,somestudiesintroduceheterogeneousgraphorKGto documentquestionanswering.\nintegrateheterogeneousLBSNdatainasinglegraph.HUGAT[9]\ndesigns several meta-paths to capture different relationships in\nLBSN from a heterogeneous graph, and aggregate information\nfrommeta-path-basedneighborsoflocations.Zhouetal.propose\nahierarchicalKGlearningmodeltolearntheglobalknowledge 6 Conclusion\nanddomainknowledgefromLBKG,achievingconsiderableperfor- In this work, we propose a framework that synergizes the abil-\nmance[37].However,existingmethodsrelyonhumanexpertise ityofLLMagentandKGlearningmodelforbettersocioeconomic\ntoidentifyrelevantknowledgefromLBSNdatathatmayhelpthe predictioninLBSN.Specifically,weleverageLLMagenttoautomat-\ndownstreamtasks,whichmayusuallybesub-optimal. icallyfindtask-relevantmeta-paths,andproposeasemantic-guided\nknowledgefusionmodeltoadaptivelyfusediverseknowledgebased\n5.2 SynergyofLLMandKG onsemanticinformationofthemeta-paths.Moreover,weenable\nLLMsexcelinunderstandingandgeneratinghumanlanguagebut cross-taskknowledgetransferbyLLMagent-levelcollaboration\noftensufferfromhallucinationandalackoffactualaccuracy.In andembedding-levelknowledgefusion.Suchsynergisticmodel\ncontrast,KGsstorestructured,factualknowledge,whichisexplicit designshowsbetterperformancecomparedwithsocioeconomic\nandinterpretable.Therefore,inrecentyears,researchershavein- prediction baselines as well as meta-path searching algorithms.\ncreasinglyexploredthesynergybetweenLLMandKGtoleverage Inthefuture,weplantoconsiderthedynamicupdateofLBKG\ntheircomplementarystrengths[19].SomestudiescombineLLM andsocioeconomicindicatorsastheLBSNchangesovertime,and\nwithKGforbetterknowledgerepresentationsbyfusingtheneural leverageLLMtofurthercapturethetemporalpatternsofsuchdy-\nnetworksoflanguagemodelswithKG[26,38].Moreover,some namics.Anotherpromisingdirectionistoexploretheintegration\nstudiesconstructLLMagentsthatinteractwithKGforbetterrea- ofLLMandKGthroughoutthelifecyclefromLBKGconstruction\nsoning.Forexample,KSL[5]letsLLMsearchonKGtoretrievefacts andrepresentationtodownstreamapplications.\nSynergizingLLMAgentsandKnowledgeGraphforSocioeconomicPredictioninLBSN\nReferences theACMonInteractive,Mobile,WearableandUbiquitousTechnologies5,4(2021),\n[1] Chi-MinChan,WeizeChen,YushengSu,JianxuanYu,WeiXue,Shanghang 1â€“24.\nZhang,JieFu,andZhiyuanLiu.2023. Chateval:Towardsbetterllm-based [26] XiaozhiWang,TianyuGao,ZhaochengZhu,ZhengyanZhang,ZhiyuanLiu,\nevaluatorsthroughmulti-agentdebate.arXivpreprintarXiv:2308.07201(2023). JuanziLi,andJianTang.2021.KEPLER:Aunifiedmodelforknowledgeembed-\n[2] LinChen,FengliXu,NianLi,ZhenyuHan,MengWang,YongLi,andPanHui. dingandpre-trainedlanguagerepresentation.TransactionsoftheAssociationfor\n2024.LargeLanguageModel-drivenMeta-structureDiscoveryinHeterogeneous ComputationalLinguistics9(2021),176â€“194.\nInformationNetwork.InProceedingsofthe30thACMSIGKDDConferenceon [27] YuWang,NedimLipka,RyanARossi,AlexaSiu,RuiyiZhang,andTylerDerr.\nKnowledgeDiscoveryandDataMining.307â€“318. 2024.Knowledgegraphpromptingformulti-documentquestionanswering.In\n[3] LeiDong,CarloRatti,andSiqiZheng.2019.Predictingneighborhoodsâ€™socioe- ProceedingsoftheAAAIConferenceonArtificialIntelligence,Vol.38.19206â€“19214.\nconomicattributesusingrestaurantdata.ProceedingsoftheNationalAcademy [28] Jason Wei, Yi Tay, Rishi Bommasani, Colin Raffel, Barret Zoph, Sebastian\nofSciences116,31(2019),15447â€“15452. Borgeaud,DaniYogatama,MaartenBosma,DennyZhou,DonaldMetzler,etal.\n[4] LeiDong,XiaohuiYuan,MengLi,CarloRatti,andYuLiu.2021. Agridded 2022.EmergentAbilitiesofLargeLanguageModels.TransactionsonMachine\nestablishmentdatasetasaproxyforeconomicactivityinChina.ScientificData LearningResearch(2022).\n8,1(2021),1â€“9. [29] JasonWei,XuezhiWang,DaleSchuurmans,MaartenBosma,FeiXia,EdChi,\n[5] ChaoFeng,XinyuZhang,andZichuFei.2023. Knowledgesolver:Teaching QuocVLe,DennyZhou,etal.2022.Chain-of-thoughtpromptingelicitsreason-\nllmstosearchfordomainknowledgefromknowledgegraphs.arXivpreprint inginlargelanguagemodels.Advancesinneuralinformationprocessingsystems\narXiv:2309.03118(2023). 35(2022),24824â€“24837.\n[6] SiruiHong,MingchenZhuge,JonathanChen,XiawuZheng,YuhengCheng, [30] ShangbinWu,XuYan,XiaoliangFan,ShiruiPan,ShichaoZhu,ChuanpanZheng,\nCeyaoZhang,JinlinWang,ZiliWang,StevenKaShingYau,ZijuanLin,Liyang MingCheng,andChengWang.2022.Multi-GraphFusionNetworksforUrban\nZhou,ChenyuRan,LingfengXiao,ChenglinWu,andJÃ¼rgenSchmidhuber.2023. RegionEmbedding.arXivpreprintarXiv:2201.09760(2022).\nMetaGPT:MetaProgrammingforAMulti-AgentCollaborativeFramework. [31] ZiyangXiao,DongxiangZhang,YangjunWu,LilinXu,YuanJessicaWang,\narXiv:2308.00352[cs.AI] XiongweiHan,XiaojinFu,TaoZhong,JiaZeng,MingliSong,etal.2023.Chain-\n[7] MingliangHou,FengXia,HaoranGao,XinChen,andHonglongChen.2022. of-Experts:WhenLLMsMeetComplexOperationsResearchProblems.InThe\nUrbanRegionProfilingWithSpatio-TemporalGraphNeuralNetworks. IEEE TwelfthInternationalConferenceonLearningRepresentations.\nTransactionsonComputationalSocialSystems(2022). [32] FengliXu,YongLi,andShushengXu.2020. Attentionalmulti-graphconvo-\n[8] JinhaoJiang,KunZhou,ZicanDong,KemingYe,WayneXinZhao,andJi-Rong lutionalnetworkforregionaleconomypredictionwithopenmigrationdata.\nWen.2023.Structgpt:Ageneralframeworkforlargelanguagemodeltoreason InProceedingsofthe26thACMSIGKDDInternationalConferenceonKnowledge\noverstructureddata.arXivpreprintarXiv:2305.09645(2023). Discovery&DataMining.2225â€“2233.\n[9] NamwooKimandYoonjinYoon.2022.EffectiveUrbanRegionRepresentation [33] SuYang,MinjieWang,WenshanWang,YiSun,JunGao,WeishanZhang,and\nLearningUsingHeterogeneousUrbanGraphAttentionNetwork(HUGAT).arXiv JiulongZhang.2017.Predictingcommercialactivenessoverurbanbigdata.Pro-\npreprintarXiv:2202.09021(2022). ceedingsoftheACMonInteractive,Mobile,WearableandUbiquitousTechnologies\n[10] XiaochongLan,ChenGao,DepengJin,andYongLi.2024.Stancedetectionwith 1,3(2017),1â€“20.\ncollaborativerole-infusedllm-basedagents.InProceedingsoftheInternational [34] ZijunYao,YanjieFu,BinLiu,WangsuHu,andHuiXiong.2018.Representing\nAAAIConferenceonWebandSocialMedia,Vol.18.891â€“903. urbanfunctionsthroughzoneembeddingwithhumanmobilitypatterns.In\n[11] GuohaoLi,HasanAbedAlKaderHammoud,HaniItani,DmitriiKhizbullin, ProceedingsoftheTwenty-SeventhInternationalJointConferenceonArtificial\nandBernardGhanem.2023.CAMEL:CommunicativeAgentsforâ€Mindâ€Explo- Intelligence(IJCAI-18).\nrationofLargeLanguageModelSociety.InThirty-seventhConferenceonNeural [35] MingyangZhang,TongLi,YongLi,andPanHui.2021.Multi-viewjointgraph\nInformationProcessingSystems. https://openreview.net/forum?id=3IyL2XWDkG representationlearningforurbanregionembedding.InProceedingsoftheTwenty-\n[12] ZehanLi,XinZhang,YanzhaoZhang,DingkunLong,PengjunXie,andMeishan NinthInternationalConferenceonInternationalJointConferencesonArtificial\nZhang.2023. Towardsgeneraltextembeddingswithmulti-stagecontrastive Intelligence.4431â€“4437.\nlearning.arXivpreprintarXiv:2308.03281(2023). [36] ZiruiZhao,WeeSunLee,andDavidHsu.2024. Largelanguagemodelsas\n[13] ChangLiu,ChenGao,DepengJin,andYongLi.2021. ImprovingLocation commonsenseknowledgeforlarge-scaletaskplanning. AdvancesinNeural\nRecommendationwithUrbanKnowledgeGraph.arXivpreprintarXiv:2111.01013 InformationProcessingSystems36(2024).\n(2021). [37] ZhilunZhou,YuLiu,JingtaoDing,DepengJin,andYongLi.2023. Hierarchi-\n[14] YuLiu,JingtaoDing,YanjieFu,andYongLi.2023.Urbankg:Anurbanknowledge calknowledgegraphlearningenabledsocioeconomicindicatorpredictionin\ngraphsystem. ACMTransactionsonIntelligentSystemsandTechnology14,4 location-basedsocialnetwork.InProceedingsoftheACMWebConference2023.\n(2023),1â€“25. 122â€“132.\n[15] YuLiu,JingtaoDing,andYongLi.2023.KnowSite:LeveragingUrbanKnowledge [38] HongyinZhu,HaoPeng,ZhihengLyu,LeiHou,JuanziLi,andJinghuiXiao.\nGraphforSiteSelection.InProceedingsofthe31stACMInternationalConference 2023.Pre-traininglanguagemodelincorporatingdomain-specificheterogeneous\nonAdvancesinGeographicInformationSystems.1â€“12. knowledgeintoaunifiedrepresentation.ExpertSystemswithApplications215\n[16] YuLiu,XinZhang,JingtaoDing,YanxinXi,andYongLi.2023. Knowledge- (2023),119369.\ninfusedcontrastivelearningforurbanimagery-basedsocioeconomicprediction.\nInProceedingsoftheACMWebConference2023.4150â€“4160.\n[17] YanLuo,Fu-laiChung,andKaiChen.2022.UrbanRegionProfilingviaAMulti-\nGraphRepresentationLearningFramework. arXivpreprintarXiv:2202.02074\n(2022).\n[18] NiklasMuennighoff,NouamaneTazi,LoÃ¯cMagne,andNilsReimers.2022.MTEB:\nMassivetextembeddingbenchmark.arXivpreprintarXiv:2210.07316(2022).\n[19] ShiruiPan,LinhaoLuo,YufeiWang,ChenChen,JiapuWang,andXindongWu.\n2024.Unifyinglargelanguagemodelsandknowledgegraphs:Aroadmap.IEEE\nTransactionsonKnowledgeandDataEngineering(2024).\n[20] MichaelSchlichtkrull,ThomasNKipf,PeterBloem,RiannevandenBerg,Ivan\nTitov,andMaxWelling.2018.Modelingrelationaldatawithgraphconvolutional\nnetworks.InEuropeanSemanticWebConference.Springer,593â€“607.\n[21] YizhouSunandJiaweiHan.2012.Miningheterogeneousinformationnetworks:\nprinciplesandmethodologies.Morgan&ClaypoolPublishers.\n[22] PetarVeliÄkoviÄ‡,GuillemCucurull,ArantxaCasanova,AdrianaRomero,Pietro\nLio,andYoshuaBengio.2017. Graphattentionnetworks. arXivpreprint\narXiv:1710.10903(2017).\n[23] HongjianWang,DanielKifer,CorinaGraif,andZhenhuiLi.2016.Crimerate\ninferencewithbigdata.InProceedingsofthe22ndACMSIGKDDInternational\nConferenceonKnowledgeDiscoveryandDataMining.635â€“644.\n[24] HongjianWangandZhenhuiLi.2017.Regionrepresentationlearningviamo-\nbilityflow.InProceedingsofthe2017ACMonConferenceonInformationand\nKnowledgeManagement.237â€“246.\n[25] HuandongWang,QiaohongYu,YuLiu,DepengJin,andYongLi.2021.Spatio-\nTemporalUrbanKnowledgeGraphEnabledMobilityPrediction.Proceedingsof\nZhilunZhou,JingyangFan,YuLiu,FengliXu,DepengJin,andYongLi\nA DetailsofLBKG B Prompts\nWepresenttherelationsinLBKGandtheirmeaningsinTable6.We WepresentthedetailedpromptsandexamplesofLLMagentre-\nincorporatethreelevelofPOIcategory,i.e.,coarse-grained,medium- sponseinthisSection.Specifically,weintroducethebasicinforma-\ngrained,andfind-grainedcategories,whicharerepresentedasCat- tionofLBKGtoLLMagentasshowninFigure5.Figure6shows\negory1,Category2,andCategory3,respectively. theexamplesofpromptandresponseonsingletask.Figure7and8\nshowsthepromptofmeta-pathsself-updateandrecommendation\nincross-taskcommunication.WeasktheLLMagentstonameeach\nmeta-pathandprovidereasonsinallprompts.\nSynergizingLLMAgentsandKnowledgeGraphforSocioeconomicPredictioninLBSN\nTable6:ThedetailsofrelationsinLBKG.\nRelation Head&TailEntityTypes Meaning\nHasCategory1Of (POI,Category1) Coarse-grainedcategoryofPOI\nHasCategory2Of (POI,Category2) Medium-grainedcategoryofPOI\nHasCategory3Of (POI,Category3) Fine-grainedcategoryofPOI\nCategory1ExistIn (Category1,POI) Coarse-grainedcategorycontainsPOI\nCategory2ExistIn (Category2,POI) Medium-grainedcategorycontainsPOI\nCategory3ExistIn (Category3,POI) Fine-grainedcategorycontainsPOI\nBelongToCategory1 (Brand,Category1) Coarse-grainedcategoryofBrand\nBelongToCategory2 (Brand,Category2) Medium-grainedcategoryofBrand\nBelongToCategory3 (Brand,Category3) Fine-grainedcategoryofBrand\nCategory1HasBrandOf (Category1,Brand) Coarse-grainedcategorycontainsBrand\nCategory2HasBrandOf (Category2,Brand) Medium-grainedcategorycontainsBrand\nCategory3HasBrandOf (Category3,Brand) Fine-grainedcategorycontainsBrand\nHas (Region,POI) RegioncontainsPOI\nLocateAt (POI,Region) POIlocatesattheregion\nBelongTo (POI,BusinessArea) POIlocatesattheBusinessArea\nContain (BusinessArea,POI) BusinessAreacontainsPOI\nIsSubCategoryOf_2to1 (Category2,Category1) Category2isasub-categoryofCategory1\nIsSubCategoryOf_3to1 (Category3,Category1) Category3isasub-categoryofCategory1\nIsSubCategoryOf_3to2 (Category3,Category2) Category3isasub-categoryofCategory2\nIsBroadCategoryOf_1to2 (Category1,Category2) Category1isabroad-categoryofCategory2\nIsBroadCategoryOf_1to3 (Category1,Category3) Category1isabroad-categoryofCategory3\nIsBroadCategoryOf_2to3 (Category2,Category3) Category2isabroad-categoryofCategory3\nPopulationInflowFrom (Region,Region) RegionhasalargepopulationflowtoRegion\nPopulationFlowTo (Region,Region) RegionhasalargepopulationflowfromRegion\nHasPlacedStoreAt (Brand,Region) BrandhasopenedstoreatRegion\nHasStoreOf (Region,Brand) RegioncontainsPOIoftheBrand\nBrandExistIn (Brand,POI) BrandcontainsPOI\nHasBrandOf (POI,Brand) BrandofPOI\nServedBy (Region,BusinessArea) RegioncoveredbyBusinessArea\nServe (BusinessArea,Region) BusinessAreacoverstheregion\nRelatedBrand (Brand,Brand) Brandsrelatedtoeachother\nCompetitive (POI,POI) NearbyPOIswiththesamebrand\nBorderBy (Region,Region) Regionssharepartoftheboundary\nNearBy (Region,Region) Regionsliewithinacertaindistance\nSimilarFunction (Region,Region) RegionswithsimilarPOIdistribution\nZhilunZhou,JingyangFan,YuLiu,FengliXu,DepengJin,andYongLi\n[Prompt of introduction to LBKG]\nLet's start with some concepts of the urban knowledge graph, which captures facts related to a city. In the following, we\nwill introduce the entities and relations in it.\nThe urban knowledge graph contains 7 types of entities, i.e., Brand, Point of Interest (POI), Region, Business Area,\nCategory1(coarse-grained category), Category2(medium-grained category), Cateory3(fine-grained category). In this context,\nfine-grained categorysis subcategory of medium-grained category and medium-grained category is subcategory of coarse-\ngrained category.\nThe urban knowledge graph contains 35 types of relations to describe the connections between entities. The name of each\nrelation consists of the entity type corresponding to the origin of this relation, the meaning of the relation, and the entity\ntype corresponding to the destination of this relation, in order from left to right, separated by _, which indicates the\nrelation to be experienced from the head entity to the tail entity.\nMapping of relation names to IDs:\nrel_1: POI_HasCategoryOf_Category1\nrel_2: POI_HasCategoryOf_Category2\nrel_3: POI_HasCategoryOf_Category3\nrel_4: Category1_ExistIn_POI\nrel_5: Category2_ExistIn_POI\nrel_6: Category3_ExistIn_POI\nrel_7: Brand_BelongTo_Category1\nrel_8: Brand_BelongTo_Category2\nrel_9: Brand_BelongTo_Category3\nrel_10: Category1_HasBrandOf_Brand\nrel_11: Category2_HasBrandOf_Brand\nrel_12: Category3_HasBrandOf_Brand\nrel_13: Region_Has_POI\nrel_14: POI_LocateAt_Region\nrel_15: POI_BelongTo_BusinessArea\nrel_16: BusinessArea_Contain_POI\nrel_17: Category2_IsSubCategoryOf_Category1\nrel_18: Category3_IsSubCategoryOf_Category1\nrel_19: Category3_IsSubCategoryOf_Category2\nrel_20: Category1_IsBroadCategoryOf_Category2\nrel_21: Category1_IsBroadCategoryOf_Category3\nrel_22: Category2_IsBroadCategoryOf_Category3\nrel_23: Region_PopulationInflowFrom_Region\nrel_24: Region_PopulationFlowTo_Region\nrel_25: Brand_HasPlacedStoreAt_Region\nrel_26: Region_HasStoreOf_Brand\nrel_27: Brand_ExistIn_POI\nrel_28: POI_HasBrandOf_Brand\nrel_29: Region_ServedBy_BusinessArea\nrel_30: BusinessArea_Serve_Region\nrel_31: Brand_RelatedBrand_Brand\nrel_32: POI_Competitive_POI\nrel_33: Region_BorderBy_Region\nrel_34: Region_NearBy_Region\nrel_35: Region_SimilarFunction_Region\nFor example, \"rel_1\" represents the relation \"HasCategoryOf\". It links a head entity with type \"POI\" to a tail entity with\ntype \"Category1\", indicating that the POI has the specific coarse-grained category.\nA metapathconsists of one or several relations in KG. For two neighboring relations in a metapath, the tail entity type of\nthe former relation must be the same as the head entity type of the latter relation. For example, (rel_3, rel_19) is a valid\nmetapathbecause the tail entity type of rel_3 is Category3 and the head entity type of rel_19 is also Category3. This\nmetapathcan be expressed as: POI_HasCategoryOf_Category3_IsSubCategoryOf_Category2.\nThe metapath(rel_3, rel_4) is invalid because the tail entity type of rel_3 is Category3, while the head entity type of rel_4 is\nCategory1.\nFigure5:ThedescriptionofLBKGintheprompts.\nSynergizingLLMAgentsandKnowledgeGraphforSocioeconomicPredictioninLBSN\n[Prompt of single task]\n{Introduction to LBKG}\nNow we are using this knowledge graph for the \"Population_Prediction\" task, i.e., predicting the population in urban\nregions. Please help me find some metapathsin this KG which may help this task.\nSince a metapathusually has semantic meaning in the KG, please name each metapathbased on its meaning. For example,\nthe metapath(rel_34, rel_33), i.e., Region_NearBy_Region_BorderBy_Region, can be named as 'Geographical Proximity'.\nPlease also provide the reason for why you choose each metapath.\n{reference}\nPlease choose 3 metapaths. Note that:\n1. You must make sure that all triplets in the metapathsexist in the KG.\n2. Each metapathmust contain the entity type \"Region\", i.e., at least one relation in the metapathmust have \"Region\" as\nthe head entity type or the tail entity type.\n3. You must answer in json format. For example:\n[{{\"name\":\"xxx\", \"reason\":\"xxx\", \"metapath\":\"Region_BorderBy_Region_...\"}}, ...]\nYour answer:\n[LLM agent response]\n[\n{\n\"name\": \"Regional Population Flow\",\n\"reason\": \"This metapathcaptures the movement of people between regions, which is a direct indicator of population\nchanges and can help predict population dynamics.\",\n\"metapath\": \"Region_PopulationFlowTo_Region_PopulationInflowFrom_Region\"\n},\n{\n\"name\": \"Brand Influence on Population\",\n\"reason\": \"This metapathexplores how the presence of certain brands in a region might attract people, influencing\npopulation predictions. Popular brands can draw more visitors or residents to a region.\",\n\"metapath\": \"Region_HasStoreOf_Brand_HasPlacedStoreAt_Region\"\n},\n{\n\"name\": \"Business Area Impact\",\n\"reason\": \"This metapathexamines how business areas serving a region can affect its population. Business areas with\nmore services and amenities can attract more people to live or work in the region.\",\n\"metapath\": \"Region_ServedBy_BusinessArea_Serve_Region\"\n}\n]\nFigure6:Thepromptandresponseexampleonsingletask.\nZhilunZhou,JingyangFan,YuLiu,FengliXu,DepengJin,andYongLi\n[Prompt of self-update]\n{Introduction to LBKG}\nNow we are using this knowledge graph for some socioeconomic indicator prediction tasks, including:\n1. Population_Prediction: predicting the population in urban regions.\n2. Economic_Prediction: predicting the economic level of urban regions.\n3. Comments_Prediction: predicting the number of reviews of restaurants on review platform in an urban region.\n4. Rating_Prediction: predicting the average ratings of restaurants on review platform in an urban region.\nNow we are responsible for the \"Population_Prediction\" task, i.e., predicting the population in urban regions. Please help\nme find some metapathsin this KG which may help this task.\nFor your reference, here are the metapathsthat we have discovered so far:\n{Previous LLM response for each task}\nSince the other 3 tasks are highly related to the current task, please consider their relationship with the current task, and\nfind 3 new metapathsthat may help the current task. The new metapathsshould not be the same as the current\nmetapaths.\nSince a metapathusually has semantic meaning in the KG, please name each metapathbased on its meaning. For example,\nthe metapath(rel_34, rel33), i.e., Region_NearBy_Region_BorderBy_Region, can be named as 'Geographical Proximity'.\nYou should also provide a detailed step-by-step reasoning process for why you choose each metapath. Note that:\n1. You must make sure that all triplets in the metapathsexist in the KG.\n2. Each metapathmust contain the entity type \"Region\", i.e., at least one relation in the metapathmust have \"Region\" as\nthe head entity type or the tail entity type.\n3. You must answer in json format. For example:\n[{\"reason\":\"xxx\", \"name\":\"xxx\", \"metapath\":\"Region_BorderBy_Region_...\"}, ...]\nYour Answer:\n[LLM agent response]\n[\n{\n\"name\": \"Regional Competitive Dynamics\",\n\"reason\": \"This metapathexplores how competition between POIs in a region might influence population dynamics.\nCompetitive POIs can attract more visitors and residents, impacting the population of the region.\",\n\"metapath\": \"Region_Has_POI_Competitive_POI_LocateAt_Region\"\n},\n{\n\"name\": \"Geographical and Functional Similarity\",\n\"reason\": \"This metapathexamines how regions that are geographically nearby and have similar functions might\nexperience similar population trends. Regions that are similar in function and location might share population\ncharacteristics.\",\n\"metapath\": \"Region_NearBy_Region_SimilarFunction_Region\"\n},\n{\n\"name\": \"Brand and Business Area Synergy\",\n\"reason\": \"This metapathinvestigates how the presence of brands in business areas serving a region can influence\npopulation. The synergy between brands and business areas can attract more people to the region, affecting its\npopulation.\",\n\"metapath\": \"Region_ServedBy_BusinessArea_Contain_POI_HasBrandOf_Brand_HasPlacedStoreAt_Region\"\n}\n]\nFigure7:Thepromptandresponseexampleofmeta-pathsself-updateincross-taskcommunication.\nSynergizingLLMAgentsandKnowledgeGraphforSocioeconomicPredictioninLBSN\n[Prompt of meta-path recommendation]\n{Same as previous prompt}\nBased on the above information, please recommend a metapathwhich you think can best help the Population_Predictiontask. You\nshould consider relationship between the two tasks, and how knowledge from our task can help the target task. The metapathshould not\nbe the same as the current metapaths.\nSince a metapathusually has semantic meaning in the KG, please name each metapathbased on its meaning. For example, the metapath\n(rel_34, rel33), i.e., Region_NearBy_Region_BorderBy_Region, can be named as 'Geographical Proximity'. You should also provide a detailed\nstep-by-step reasoning process for why you choose each metapath. Note that:\n1. You must make sure that all triplets in the metapathsexist in the KG.\n2. Each metapathmust contain the entity type \"Region\", i.e., at least one relation in the metapathmust have \"Region\" as the head entity\ntype or the tail entity type.\nYour Answer:\n[LLM agent response]\nTo recommend a metapathfor the Population_Predictiontask, we need to consider how the economic factors of a region might influence\npopulation dynamics. Economic conditions can affect population distribution by attracting or repelling residents based on jobopportunities,\ncost of living, and overall quality of life. Therefore, a metapaththat captures the economic influence on population movement would be\nbeneficial.\n### Recommended Metapathfor Population_Prediction:\n**MetapathName:** Economic Attraction\n**Metapath:** Region_Has_POI_HasCategoryOf_Category1_HasBrandOf_Brand_HasPlacedStoreAt_Region\n**Reasoning Process:**\n1. **Start with Region:** The metapathbegins with a \"Region\" entity, which is essential as the task is to predict population dynamics within\nurban regions.\n2. **Region_Has_POI:** This relation indicates that a region contains certain Points of Interest (POIs). POIs can include businesses,\nattractions, and other facilities that contribute to the economic activity of a region.\n3. **POI_HasCategoryOf_Category1:** This step links POIs to a coarse-grained category, which helps identify the type of economicactivity\nprevalent in the region. For example, a region with many POIs in the \"Retail\" category might indicate a strong commercial presence.\n4. **Category1_HasBrandOf_Brand:** This relation connects the category to specific brands. Brands associated with a category canindicate\nthe economic strength and attractiveness of the region. Well-known brands can draw more visitors and potential residents.\n5. **Brand_HasPlacedStoreAt_Region:** Finally, this relation shows that a brand has established a store in a region, which can be a\nsignificant economic indicator. The presence of popular brands can attract people to the region, influencing population growth or movement.\n### Justification:\n-**Economic Influence on Population:** The presence of well-known brands and a high concentration of economically significant POIs can\nattract people to a region, either for employment opportunities or for the amenities and services offered. This metapathcaptures the\neconomic attractiveness of a region, which is a key factor in population dynamics.\n-**Complementary to Existing Metapaths:** This metapathcomplements existing ones by focusing on the economic pull factors rather than\njust the movement of people or the presence of business areas. It provides a different perspective by linking economic activity directly to\npopulation changes.\n-**Semantic Meaning:** The metapath\"Economic Attraction\" effectively captures the idea that economic factors, represented by the\npresence of brands and POIs, can attract people to a region, thereby influencing population distribution.\nBy considering the economic aspects of a region, this metapathprovides a valuable angle for predicting population changes, leveraging the\ninterconnectedness of economic activity and population dynamics.\nFigure8:Thepromptandresponseexampleofmeta-pathsrecommendationincross-taskcommunication.",
    "pdf_filename": "Synergizing_LLM_Agents_and_Knowledge_Graph_for_Socioeconomic_Prediction_in_LBSN.pdf"
}